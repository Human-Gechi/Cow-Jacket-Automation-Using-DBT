models:
  - name: int_sumary_cust_loyalty
    columns:
      - name: customer_id
        data_tests:
          - unique
          - not_null

      - name: total_points_earned
        data_tests:
          - not_null

      - name: last_activity_date
        data_tests:
          - not_null

      - name: total_loyalty_transactions
        data_tests:
          - not_null

  - name: int_loyalty_points_source_grouping
    columns:
      - name: source
        data_tests:
          - not_null

      - name: total_points
        data_tests:
          - not_null

  - name: int_customer_order_history
    description: "Connects customers to their orders made over time: first_order_date , last_rder_date, total_amount_spent, number of orders made "
    columns:
      - name: customer_id
        data_tests:
          - unique
          - not_null

      - name: first_order_date
        data_tests:
          - not_null
      - name: last_order_date
        data_tests:
          - not_null

      - name: total_orders
        data_tests:
          - not_null

      - name: lifetime_value
        data_tests:
          - not_null
    
  - name: int_summary_cust_loyalty
    description: "Aggregates customer loyalty activity, providing a snapshot of total points earned and engagement recency."
    columns:
      - name: customer_id
        description: "Unique identifier for the customer."
        data_tests:
          - unique
          - not_null

      - name: total_points_earned
        description: "Lifetime sum of loyalty points accumulated by the customer."

      - name: last_activity_date
        description: "The date of the most recent loyalty transaction (earning or activity)."

      - name: total_loyalty_transactions
        description: "The total count of individual loyalty events recorded for this customer."


  - name: order_category
    description: "Enriches order line items with product names and categories to analyze the distribution of sales across the catalog."
    columns:
      - name: order_item_id
        description: "Unique identifier for each specific line item in an order."
        data_tests:
          - unique
          - not_null

      - name: order_id
        description: "The parent order ID associated with the line item."

      - name: product_id
        description: "The identifier for the product ordered."

      - name: product_name
        description: "The name of the product at the time of the join."

      - name: product_category
        description: "The broad classification (e.g., Electronics, Apparel) the product belongs to."

      - name: quantity
        description: "The number of units purchased for this specific line item."

      - name: unit_price
        description: "The list price per unit for the product."

      - name: reported_line_total
        description: "The total price for the line item as recorded in the source system."

      - name: total_cost
        description: "Calculated value (quantity * unit_price) used to verify financial accuracy."

